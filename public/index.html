<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wordpress Block</title>
    <link rel="icon" type="image/png" href="favicon.ico">
    <link rel="stylesheet" type="text/css" href="salesforce-lightning-design-system.min.css" />
    <script src="jquery3.3.1.min.js"></script>
</head>

<body>
    <div id="cms-container">
      <div>
      <h3 class="slds-text-heading_large">Here are some images</h3>
    </div>
    <div>
      <h4 class="slds-text-heading_small">Use the buttons to toggle images</h3>
      </div>
    </div>
    <!-- image link -->
    <div class="slds-form-element">
      <label class="slds-form-element__label" for="image-link">Image Link</label>
      <div class="slds-form-element__control">
        <input type="text" id="image-link" class="slds-input" placeholder="Optional URL for link wrap" />
      </div>
    </div>
    <!-- /image link -->
    <!-- image width -->
    <div class="slds-form-element">
      <label class="slds-form-element__label" for="slider-image-width">
        <span class="slds-slider-label">
          <span class="slds-slider-label__label">Image Width</span>
        </span>
      </label>
      <div class="slds-form-element__control">
        <div class="slds-slider">
          <input type="range" id="slider-image-width" class="slds-slider__range" value="200" min="100" max="800" />
          <span class="slds-slider__value" id="slider-image-width-val" aria-hidden="true">200</span>
        </div>
      </div>
    </div>
    <!-- /image width -->
    <!-- image height -->
    <div class="slds-form-element">
      <label class="slds-form-element__label" for="slider-image-height">
        <span class="slds-slider-label">
          <span class="slds-slider-label__label">Image Height</span>
        </span>
      </label>
      <div class="slds-form-element__control">
        <div class="slds-slider">
          <input type="range" id="slider-image-height" class="slds-slider__range" value="200" min="100" max="800" />
          <span class="slds-slider__value" id="slider-image-height-val" aria-hidden="true">200</span>
        </div>
      </div>
    </div>
    <!-- /image height -->
    <!-- image filters -->
    <div id="cms-filter-buttons" class="slds-button-group slds-p-around_x-large" role="group">
      <button id="all" class="slds-button_neutral active">All</button>
      <button id="one" class="slds-button_neutral">One</button>
      <button id="two" class="slds-button_neutral">Two</button>
      <button id="three" class="slds-button_neutral">Three</button>
    </div>
    <!-- /image filters -->
    <!-- returned images -->
    <div id="cms-images">
        <img class = "all one" border="0" src="avatar1.jpg" alt="image1" width="100" height="100">
        <img class = "all two" border="0" src="avatar2.jpg" alt="image2" width="100" height="100">
        <img class = "all three" border="0" src="avatar3.jpg" alt="image3" width="100" height="100">
        <img class = "all one" border="0" src="avatar1.jpg" alt="image4" width="100" height="100">
        <img class = "all two" border="0" src="avatar2.jpg" alt="image5" width="100" height="100">
        <img class = "all three" border="0" src="avatar3.jpg" alt="image6" width="100" height="100">
    </div>
    <!-- /returned images -->
    <script src="blocksdk.js"></script>
<!--  	<script src="main.js"></script> -->
<script>

// SLIDERS
// Update the displayed value of the sliders
$("#slider-image-width").change(function() {
  $('#slider-image-width-val').text($(this).val());
});
$("#slider-image-height").change(function() {
  $('#slider-image-height-val').text($(this).val());
});

// BUTTONS
// filter results based on buttons selected
var $btns = $('.slds-button_neutral').click(function() {
// if all is selected show all elements in main div - by default the page loads with all values selected
if (this.id == 'all') {
    $('#cms-images > img').show();
} else {
    // take id from selected button and create var with class value same as id, hide those elements that don't have that class
    var $el = $('.' + this.id).show();
    $('#cms-images > img').not($el).hide();
}
// remove active class from all buttons
$btns.removeClass('active');
// add active class to selected button
$(this).addClass('active');
})
var imageurl, imagealt;

// SDK
var sdk = new window.sfdc.BlockSDK();

$("img").click(function(){
  var imagealt = $(this).attr("alt");
  var imageurl = $(this).attr("src");
  // set input from image-link as href of selected image
  var link, height, width;
  var link = $('#image-link').val();
  var height= $('#slider-image-height').val();
  var width= $('#slider-image-width').val();

//  var link = "www.google.com";
  console.log("Alt Text: " + imagealt + "|| Image Source: " + imageurl);
  console.log("height" + height + "|| width " + width);
//  sdk.setContent(imagealt);
//  sdk.setSuperContent('This is super content: ' + imageurl);
  sdk.setContent('<a href="' + link + '"><img height="' + height + '" width="' + width + '" src="https://experts-cb-sdk-wordpress.herokuapp.com/' + imageurl + '" /></a>');
});

    </script>
</body>

</html>
